<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NanizTreate & Event Planning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .hero-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('http://static.photos/food/1200x630/42');
            background-size: cover;
            background-position: center;
        }
        .menu-item:hover {
            transform: translateY(-5px);
            transition: all 0.3s ease;  
        }
        .cart-btn:hover {
            background-color: #f59e0b;
            color: white;
        }
    </style>
</head>
<body class="font-sans">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center">
                    <div class="flex-shrink-0 d-flex flex items-center space-x-2">
                        <img class="h-12 w-auto" src="http://static.photos/food/200x200/1" alt="Savory Bites Logo">
                        <span class="text-xl font-bold text-gray-800">Naniz<b class="text-orange-400">Treate</b></span>
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="index.html" class="text-orange-500 hover:text-orange-700 px-3 py-2 rounded-md text-sm font-medium">Home</a>
                            <a href="menu.html" class="text-gray-700 hover:text-orange-500 px-3 py-2 rounded-md text-sm font-medium">Menu</a>
                            <a href="events.html" class="text-gray-700 hover:text-orange-500 px-3 py-2 rounded-md text-sm font-medium">Events</a>
                            <a href="about.html" class="text-gray-700 hover:text-orange-500 px-3 py-2 rounded-md text-sm font-medium">About Us</a>
                            <a href="testimonial.html" class="text-gray-700 hover:text-orange-500 px-3 py-2 rounded-md text-sm font-medium">Testimonials</a>
                            <a href="contact.html" class="text-gray-700 hover:text-orange-500 px-3 py-2 rounded-md text-sm font-medium">Contact</a>
                        </div>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-4 flex items-center md:ml-6">
                        <button id="cart-button" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium transition duration-300" onclick="localStorage.setItem('cart', JSON.stringify(cart)); window.location.href='checkout.html';">
                            <i data-feather="shopping-cart" class="inline mr-1"></i> Cart (<span id="cart-count">0</span>)
                        </button>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button type="button" id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-orange-500 focus:outline-none">
                        <i data-feather="menu"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div class="hidden md:hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html" class="text-orange-500 block px-3 py-2 rounded-md text-base font-medium">Home</a>
                <a href="menu.html" class="text-gray-700 hover:text-orange-500 block px-3 py-2 rounded-md text-base font-medium">Menu</a>
                <a href="events.html" class="text-gray-700 hover:text-orange-500 block px-3 py-2 rounded-md text-base font-medium">Events</a>
                <a href="about.html" class="text-gray-700 hover:text-orange-500 block px-3 py-2 rounded-md text-base font-medium">About Us</a>
                <a href="testimonials.html" class="text-gray-700 hover:text-orange-500 block px-3 py-2 rounded-md text-base font-medium">Testimonials</a>
                <a href="contact.html" class="text-gray-700 hover:text-orange-500 block px-3 py-2 rounded-md text-base font-medium">Contact</a>
                <button class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium w-full mt-2">
                    <i data-feather="shopping-cart" class="inline mr-1"></i> Cart (<span id="mobile-cart-count">0</span>)
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-bg text-white py-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center" data-aos="fade-up">
            <h1 class="text-4xl md:text-6xl font-bold mb-6">Premium Small Chops & Event Planning</h1>
            <p class="text-xl md:text-2xl mb-8">Delicious bites for every occasion, crafted with love and perfection</p>
            <div class="space-x-4">
                <a href="menu.html" class="bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-md text-lg font-medium inline-block transition duration-300">Order Now</a>
                <a href="events.html" class="bg-transparent hover:bg-white hover:text-gray-900 text-white border-2 border-white px-8 py-3 rounded-md text-lg font-medium inline-block transition duration-300">Plan Event</a>
            </div>
        </div>
    </section>

    <!-- Featured Items -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12" data-aos="fade-up">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Our Signature Small Chops</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">Handcrafted with premium ingredients and traditional recipes</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Item 1 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden menu-item" data-aos="fade-up" data-aos-delay="100">
                    <img src="http://static.photos/food/640x360/101" alt="Meat Pie" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Meat Pie</h3>
                        <p class="text-gray-600 mb-4">Flaky pastry filled with seasoned minced meat and vegetables</p>
                        <div class="flex justify-between items-center">
                            <span class="text-orange-500 font-bold text-lg">₦1,500</span>
                            <button class="cart-btn bg-gray-100 hover:bg-orange-500 text-orange-500 px-4 py-2 rounded-md text-sm font-medium transition duration-300" data-id="1" data-name="Meat Pie" data-price="1500">
                                <i data-feather="plus" class="inline mr-1"></i> Add
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Item 2 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden menu-item" data-aos="fade-up" data-aos-delay="200">
                    <img src="http://static.photos/food/640x360/102" alt="Chicken Samosa" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Chicken Samosa</h3>
                        <p class="text-gray-600 mb-4">Crispy pastry filled with spiced chicken and vegetables</p>
                        <div class="flex justify-between items-center">
                            <span class="text-orange-500 font-bold text-lg">₦1,200</span>
                            <button class="cart-btn bg-gray-100 hover:bg-orange-500 text-orange-500 px-4 py-2 rounded-md text-sm font-medium transition duration-300" data-id="2" data-name="Chicken Samosa" data-price="1200">
                                <i data-feather="plus" class="inline mr-1"></i> Add
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Item 3 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden menu-item" data-aos="fade-up" data-aos-delay="300">
                    <img src="http://static.photos/food/640x360/103" alt="Spring Rolls" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Spring Rolls</h3>
                        <p class="text-gray-600 mb-4">Crispy rolls filled with vegetables and your choice of protein</p>
                        <div class="flex justify-between items-center">
                            <span class="text-orange-500 font-bold text-lg">₦1,800</span>
                            <button class="cart-btn bg-gray-100 hover:bg-orange-500 text-orange-500 px-4 py-2 rounded-md text-sm font-medium transition duration-300" data-id="3" data-name="Spring Rolls" data-price="1800">
                                <i data-feather="plus" class="inline mr-1"></i> Add
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-10">
                <a href="menu.html" class="inline-block px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-orange-500 hover:bg-orange-600 transition duration-300">
                    View Full Menu
                </a>
            </div>
        </div>
    </section>

    <!-- Event Planning CTA -->
    <section class="py-16 bg-orange-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:grid lg:grid-cols-2 lg:gap-8 items-center">
                <div class="mb-8 lg:mb-0" data-aos="fade-right">
                    <h2 class="text-3xl font-bold text-gray-900 mb-4">Professional Event Planning</h2>
                    <p class="text-lg text-gray-600 mb-6">From intimate gatherings to grand celebrations, we handle every detail to make your event unforgettable.</p>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-start">
                            <i data-feather="check" class="text-green-500 mr-2 mt-1"></i>
                            <span class="text-gray-700">Custom menu planning</span>
                        </li>
                        <li class="flex items-start">
                            <i data-feather="check" class="text-green-500 mr-2 mt-1"></i>
                            <span class="text-gray-700">Venue decoration and setup</span>
                        </li>
                        <li class="flex items-start">
                            <i data-feather="check" class="text-green-500 mr-2 mt-1"></i>
                            <span class="text-gray-700">Professional catering services</span>
                        </li>
                        <li class="flex items-start">
                            <i data-feather="check" class="text-green-500 mr-2 mt-1"></i>
                            <span class="text-gray-700">Event coordination and management</span>
                        </li>
                    </ul>
                    <a href="events.html" class="inline-block px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-orange-500 hover:bg-orange-600 transition duration-300">
                        Plan Your Event
                    </a>
                </div>
                <div class="relative" data-aos="fade-left">
                    <img src="http://static.photos/event/640x360/1" alt="Event Setup" class="rounded-lg shadow-xl w-full">
                    <div class="absolute -bottom-6 -right-6 bg-white p-4 rounded-lg shadow-lg hidden md:block">
                        <div class="flex items-center">
                            <div class="bg-orange-100 p-3 rounded-full mr-3">
                                <i data-feather="calendar" class="text-orange-500"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500">Next Available Date</p>
                                <p class="font-semibold">June 15, 2023</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonial Preview -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12" data-aos="fade-up">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">What Our Clients Say</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">Don't just take our word for it - hear from our satisfied customers</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Testimonial 1 -->
                <div class="bg-gray-50 p-6 rounded-lg" data-aos="fade-up" data-aos-delay="100">
                    <div class="flex items-center mb-4">
                        <img src="http://static.photos/people/200x200/1" alt="Amina Bello" class="w-12 h-12 rounded-full mr-4">
                        <div>
                            <h4 class="font-semibold text-gray-900">Amina Bello</h4>
                            <div class="flex text-orange-400">
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 italic">"The small chops were absolutely delicious! Perfectly seasoned and the pastry was so flaky. Will definitely order again for my next gathering."</p>
                </div>
                <!-- Testimonial 2 -->
                <div class="bg-gray-50 p-6 rounded-lg" data-aos="fade-up" data-aos-delay="200">
                    <div class="flex items-center mb-4">
                        <img src="http://static.photos/people/200x200/2" alt="Tunde Williams" class="w-12 h-12 rounded-full mr-4">
                        <div>
                            <h4 class="font-semibold text-gray-900">Tunde Williams</h4>
                            <div class="flex text-orange-400">
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 italic">"Savory Bites handled my daughter's graduation party and everything was perfect! The food was amazing and their attention to detail was impressive."</p>
                </div>
                <!-- Testimonial 3 -->
                <div class="bg-gray-50 p-6 rounded-lg" data-aos="fade-up" data-aos-delay="300">
                    <div class="flex items-center mb-4">
                        <img src="http://static.photos/people/200x200/3" alt="Chioma Okeke" class="w-12 h-12 rounded-full mr-4">
                        <div>
                            <h4 class="font-semibold text-gray-900">Chioma Okeke</h4>
                            <div class="flex text-orange-400">
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 italic">"I've tried many small chops vendors but Savory Bites is in a class of their own. The quality is consistently excellent and delivery is always on time."</p>
                </div>
            </div>
            <div class="text-center mt-10">
                <a href="testimonials.html" class="inline-block px-6 py-3 border border-transparent text-base font-medium rounded-md text-orange-500 border-orange-500 hover:bg-orange-50 transition duration-300">
                    Read More Testimonials
                </a>
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="py-16 bg-orange-500 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center" data-aos="fade-up">
            <h2 class="text-3xl font-bold mb-4">Join Our Newsletter</h2>
            <p class="text-xl mb-8 max-w-2xl mx-auto">Subscribe to get updates on new menu items, special offers, and event planning tips</p>
            <form class="max-w-md mx-auto flex">
                <input type="email" placeholder="Your email address" class="flex-grow px-4 py-3 rounded-l-md focus:outline-none text-gray-900">
                <button type="submit" class="bg-gray-900 hover:bg-gray-800 px-6 py-3 rounded-r-md font-medium transition duration-300">
                    Subscribe
                </button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <img src="http://static.photos/food/200x200/1" alt="Savory Bites Logo" class="h-12 mb-4">
                    <p class="text-gray-400 mb-4">Premium small chops and professional event planning services for all occasions.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i data-feather="facebook"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i data-feather="instagram"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i data-feather="twitter"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-400 hover:text-white">Home</a></li>
                        <li><a href="menu.html" class="text-gray-400 hover:text-white">Menu</a></li>
                        <li><a href="events.html" class="text-gray-400 hover:text-white">Events</a></li>
                        <li><a href="about.html" class="text-gray-400 hover:text-white">About Us</a></li>
                        <li><a href="testimonials.html" class="text-gray-400 hover:text-white">Testimonials</a></li>
                        <li><a href="contact.html" class="text-gray-400 hover:text-white">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact Us</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex items-start">
                            <i data-feather="map-pin" class="mr-2 mt-1"></i>
                            <span>123 Food Street, Victoria Island, Lagos</span>
                        </li>
                        <li class="flex items-start">
                            <i data-feather="phone" class="mr-2 mt-1"></i>
                            <span>+234 812 345 6789</span>
                        </li>
                        <li class="flex items-start">
                            <i data-feather="mail" class="mr-2 mt-1"></i>
                            <span>info@savorybites.com</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Opening Hours</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex justify-between">
                            <span>Monday - Friday</span>
                            <span>8am - 8pm</span>
                        </li>
                        <li class="flex justify-between">
                            <span>Saturday</span>
                            <span>9am - 10pm</span>
                        </li>
                        <li class="flex justify-between">
                            <span>Sunday</span>
                            <span>10am - 6pm</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-12 pt-8 text-center text-gray-400">
                <p>&copy; 2025 Stavytech. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Shopping Cart Modal -->
    <div id="cart-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="flex justify-between items-center border-b pb-4 mb-4">
                        <h3 class="text-lg font-medium text-gray-900">Your Order (<span id="modal-cart-count">0</span>)</h3>
                        <button id="close-cart" class="text-gray-400 hover:text-gray-500">
                            <i data-feather="x"></i>
                        </button>
                    </div>
                    <div id="cart-items" class="max-h-96 overflow-y-auto">
                        <!-- Cart items will be added here dynamically -->
                        <p class="text-gray-500 text-center py-8" id="empty-cart-message">Your cart is empty</p>
                    </div>
                    <div class="border-t mt-4 pt-4">
                        <div class="flex justify-between mb-2">
                            <span class="font-medium">Subtotal:</span>
                            <span id="cart-subtotal">₦0</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span class="font-medium">Delivery Fee:</span>
                            <span id="delivery-fee">₦1,500</span>
                        </div>
                        <div class="flex justify-between text-lg font-bold">
                            <span>Total:</span>
                            <span id="cart-total">₦1,500</span>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button id="checkout-btn" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-orange-500 text-base font-medium text-white hover:bg-orange-600 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50" disabled>
                        Proceed to Checkout
                    </button>
                    <button id="continue-shopping" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                        Continue Shopping
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize AOS animations
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });

        // Initialize feather icons
        feather.replace();

        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // Shopping cart functionality with localStorage fallback
        let cart = [];
        try {
            const cartData = localStorage.getItem('cart');
            cart = cartData ? JSON.parse(cartData) : [];
        } catch (e) {
            console.warn('localStorage access blocked:', e);
            cart = [];
        }
        
        function updateCartCount() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cart-count').textContent = count;
            document.getElementById('mobile-cart-count').textContent = count;
            document.getElementById('modal-cart-count').textContent = count;
        }
        
        function updateCartModal() {
            const cartItems = document.getElementById('cart-items');
            const emptyMessage = document.getElementById('empty-cart-message');
            const checkoutBtn = document.getElementById('checkout-btn');
            
            if (cart.length === 0) {
                emptyMessage.classList.remove('hidden');
                checkoutBtn.disabled = true;
                cartItems.innerHTML = '<p class="text-gray-500 text-center py-8" id="empty-cart-message">Your cart is empty</p>';
                return;
            }
            
            emptyMessage.classList.add('hidden');
            checkoutBtn.disabled = false;
            
            let itemsHTML = '';
            let subtotal = 0;
            
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                itemsHTML += `
                    <div class="flex justify-between items-center py-4 border-b">
                        <div>
                            <h4 class="font-medium">${item.name}</h4>
                            <p class="text-gray-500 text-sm">₦${item.price.toLocaleString()} × ${item.quantity}</p>
                        </div>
                        <div class="flex items-center">
                            <span class="font-medium mr-6">₦${itemTotal.toLocaleString()}</span>
                            <button class="remove-item text-red-500 hover:text-red-700" data-index="${index}">
                                <i data-feather="trash-2" class="w-4 h-4"></i>
                            </button>
                        </div>
                    </div>
                `;
            });
            
            cartItems.innerHTML = itemsHTML;
            document.getElementById('cart-subtotal').textContent = `₦${subtotal.toLocaleString()}`;
            document.getElementById('cart-total').textContent = `₦${(subtotal + 1500).toLocaleString()}`;
            
            // Reattach event listeners to remove buttons
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    cart.splice(index, 1);
                    try {
                        localStorage.setItem('cart', JSON.stringify(cart));
                    } catch (e) {
                        console.warn('Could not save cart:', e);
                    }
                    updateCartCount();
                    updateCartModal();
                    feather.replace();
                });
            });
            
            feather.replace();
        }
        
        // Add to cart buttons
        document.querySelectorAll('.cart-btn').forEach(button => {
            button.addEventListener('click', function() {
                const id = this.getAttribute('data-id');
                const name = this.getAttribute('data-name');
                const price = parseInt(this.getAttribute('data-price'));
                
                const existingItem = cart.find(item => item.id === id);
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    // determine an image for the item (try data attribute, then nearby img)
                    const itemEl = this.closest('.menu-item');
                    const imgEl = itemEl ? itemEl.querySelector('img') : null;
                    const image = this.getAttribute('data-image') || (imgEl ? imgEl.src : 'http://static.photos/food/200x200/1');
                    cart.push({
                        id: String(id),
                        name,
                        price,
                        image,
                        quantity: 1
                    });
                }
                
                try {
                    localStorage.setItem('cart', JSON.stringify(cart));
                } catch (e) {
                    console.warn('Could not save cart:', e);
                }
                updateCartCount();
                
                // Show a quick notification
                const notification = document.createElement('div');
                notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md shadow-lg animate-bounce';
                notification.textContent = `${name} added to cart!`;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 1200);

                // Redirect to checkout so user sees the cart (short delay to show notification)
                setTimeout(() => {
                    window.location.href = 'checkout.html';
                }, 1400);
            });
        });
        
        // Cart modal controls
        document.querySelectorAll('[id^="cart-count"]').forEach(element => {
            element.addEventListener('click', function() {
                document.getElementById('cart-modal').classList.remove('hidden');
                updateCartModal();
            });
        });
        
        document.getElementById('close-cart').addEventListener('click', function() {
            document.getElementById('cart-modal').classList.add('hidden');
        });
        
        document.getElementById('continue-shopping').addEventListener('click', function() {
            document.getElementById('cart-modal').classList.add('hidden');
        });
        
        document.getElementById('checkout-btn').addEventListener('click', function() {
            window.location.href = 'checkout.html';
        });
        
        // Initialize cart count on page load
        updateCartCount();

        // Listen for cart updates from other tabs/windows
        window.addEventListener('storage', (e) => {
            if (e.key === 'cart') {
                try {
                    cart = JSON.parse(e.newValue) || [];
                } catch (err) {
                    cart = [];
                }
                updateCartCount();
            }
        });

        // Handle cart button click with localStorage error handling
        const cartBtn = document.getElementById('cart-button');
        if (cartBtn) {
            cartBtn.addEventListener('click', function(e) {
                try {
                    localStorage.setItem('cart', JSON.stringify(cart));
                } catch (ex) {
                    console.warn('Could not save cart to localStorage:', ex);
                }
                window.location.href = 'checkout.html';
            });
        }
    </script>
</body>
</html>